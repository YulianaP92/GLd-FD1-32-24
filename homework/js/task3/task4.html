<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS</title>
  </head>
  <body></body>
  <script>
    const error = "Вы ввели некорректные данные";

    function fillMatrix(width, height) {
      let number = 1;
      var matrix = [];
      for (var i = 0; i < height; i++) {
        matrix[i] = [];
        for (var j = 0; j < width; j++) {
          let providedNumber = prompt(`Введите значение ячейки ${i}-${j}: `);
          if (isNaN(providedNumber)) {
            alert(error);
            break;
          }
          number = parseInt(providedNumber);
          matrix[i][j] = number;
        }
      }
      return matrix;
    }

    function displayMatrix(matrix) {
      let result = "";
      for (let i = 0; i < matrix.length; i++) {
        for (let j = 0; j < matrix[i].length; j++) {
          if (j == matrix[i].length - 1) {
            result += `${matrix[i][j]}  \n`;
          } else {
            result += `${matrix[i][j]}  `;
          }
        }
      }

      alert(`Значения всей матрицы: \n${result}`);
    }

    function calculateSumRowMatrix(matrix) {
      let result = "";
      for (let i = 0; i < matrix.length; i++) {
        let sum = 0;
        for (let j = 0; j < matrix[i].length; j++) {
          sum += matrix[i][j];
          if (j == matrix[i].length - 1) {
            result += `Сумма элементов в строке ${i}: ${sum}\n`;
          }
        }
      }

      alert(result);
    }

    function calculateSumDiagonal(matrix) {
      let mainSum = 0;
      let secondarySum = 0;

      for (let i = 0; i < matrix.length; i++) {
        for (let j = 0; j < matrix.length; j++) {
          if (i === j) {
            mainSum += matrix[i][j];
          }
          if (i + j === matrix.length - 1) {
            secondarySum += matrix[i][j];
          }
        }
      }

      alert(
        `Сумма главной диагонали: ${mainSum}\n` +
          `Сумма побочной диагонали: ${secondarySum}\n`
      );
    }

    let matrixHeight = prompt(`Введите кол-во строк матрицы: `);
    let matrixWidth = prompt(`Введите кол-во столбцов матрицы: `);

    if (isNaN(matrixHeight) || isNaN(matrixWidth)) {
      alert(error);
    } else {
      let height = parseInt(matrixHeight);
      let width = parseInt(matrixWidth);
      let matrix = fillMatrix(width, height);
      displayMatrix(matrix);
      calculateSumRowMatrix(matrix);
      calculateSumDiagonal(matrix);
    }
  </script>
</html>
